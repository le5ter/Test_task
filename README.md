# Тестовое задание

1. Создайте модели Пользователь (баланс, ставка комиссии, URL webhook) и Транзакция (сумма, комиссия, статус: ожидание, подтвеждена, отменена, истекла)
2. Создайте адинку с тремя вкладками - дашборд, пользователи, транзакции
   - Дашборд отображает карточки со статистикой - кол-во пользователей, кол-во транзакций, сумма транзакций за текущий день и список последних транзакций
   - Пользователи - создание, редактирование, удаление 
   - Транзакции - список, детальный просмотр транзакции с возможностью смены статуса на Подтверждена или Отменена, если текущий статус Ожидание
3. Создайте API метод /create_transaction - POST, JSON (необязательный ID, сумма). Создайте транзакцию с автоматическим расчетом комиссии
4. Создайте API метод /cancel_transaction - POST, JSON
5. Создайте API метод /check_transaction - GET
6. Создайте Swagger для описания API
7. Создайте Celery задачу, которая каждую минуту проверяет транзакции со статусом Ожидание и если прошло более 15 минут с момента создания - поменяйте статус на Истекла и отправьте вебхук на URL webhook (POST, JSON: ид транзакции, статус)
8. ~~Добавьте в админке настраиваемое авто-обновление списков (0 сек, 10 сек, 15 сек, 30 сек, 1 минута)~~
9. Добавьте в админку фильтр для транзакций (отбор по пользователю, отбор по статусу)
10. Добавьте к модели Пользователя роль (админ, обычный)
11. Учтите в админке роль Пользователя (админ может все, пользователь видеть только свои транзакции)
12. Добавьте в модель пользователя поле - номер USDT кошелька
13. Сгенерируйте кошелек в тестовой сети, если он у пользователя не заполнен
14. Создайте задачу Celery, которая каждые N-минут проверяет баланс кошелька

## Документация
```swagger codegen
http://127.0.0.1:5000/swagger/
```

## Админка
```swagger codegen
http://127.0.0.1:5000/admin/
```

## Для создания админ пользователя
``` bash
flask create-admin <username> <password> --role admin
```